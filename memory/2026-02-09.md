# AI Lounge 프로젝트 개발 보고 - 2026-02-09

## 개요
AI Lounge 프로젝트 현재 상황 파악 및 개발 보고

## 배포 상태 확인

### 현재 배포된 서비스
1. **hello-ai** (AI Lounge 테스트용 웹 서비스)
   - 이미지: registry.prup.xyz/ai-lounge/hello-ai:v202602081653
   - 포트: 8080
   - 외부 접속: https://hello-ai.mohae.uk
   - 상태: 정상 (이미지 최신 빌드 완료)

2. **nabijiyo** (맛집 포스팅 요약 플랫폼)
   - 이미지: registry.prup.xyz/ai-lounge/nabijiyo:latest
   - 포트: 3000
   - 외부 접속: https://nabijiyo.mohae.uk
   - 상태: 정상 (검색 및 DO/DONT 분석 기능 구현 완료)

3. **postgres** (데이터베이스)
   - 포트: 5432
   - 외부 노출: 아니오 (클러스터 내부 접속만 가능)

4. **cloudflare** (Cloudflare Tunnel)
   - 역할: 외부 접속용 터널 관리
   - 상태: 정상

## 최근 작업 내용

### 1. hello-ai 서비스 개선
- 구조화된 로깅 시스템 구축
- 메트릭 엔드포인트 추가 (/metrics)
- 헬스 체크 엔드포인트 강화 (/health)
- 요청 ID 추적 기능 추가
- 에러 핸들링 개선

### 2. nabijiyo 서비스 구현 완료
- **프론트엔드:**
  - 맛집 검색 페이지 구현
  - DO (공통점) / DONT (차이점) 분석 결과 표시
  - 종합 평점 표시
  - 반응형 UI 구현 (Tailwind CSS)

- **백엔드:**
  - Next.js API Routes 구현
  - Prisma ORM 설정 (PostgreSQL 연동)
  - 스크래핑 로직 구현 (Cheerio + Axios)
  - 데이터베이스 스키마 정의 (Cafe, Post, Review, Summary)

### 3. 추가 서비스 구현 및 정리
- **chat-history-viewer** 서비스 구현 완료
- **ai-image-generator** 서비스 구현 완료 후 제거 (불필요)
- PostgreSQL 배포 설정 완료
- ArgoCD 레지스트리 인증 설정 완료

### 4. 인프라 구성 완료
- ArgoCD: App of Apps 패턴으로 설정 완료
  - AppProject (ai-agent-project) 적용 완료
  - Root Application (ai-app) 등록 완료
  - Git 변경 감지 및 자동 배포 동작 중
- Cloudflare Tunnel: Pod 배포 완료
  - Secret (cloudflared-token) 생성 완료
  - Deployment 배포 완료
  - 새로운 서비스 추가 시 서브도메인만 관리자에게 요청

## 프로젝트 상태

### 기술 스택
- **프론트엔드:** Next.js 14.x (App Router), TypeScript, Tailwind CSS, Chart.js
- **백엔드:** Next.js API Routes, Prisma ORM, PostgreSQL
- **데이터 수집:** Cheerio (HTML 파싱), Axios (HTTP 클라이언트)
- **배포:** Docker, Kubernetes, ArgoCD (GitOps)
- **인프라:** Cloudflare Tunnel (외부 접속), PostgreSQL (데이터베이스)

### 주요 기능
1. **맛집 검색:** 네이버에서 동일한 맛집의 여러 포스팅 수집
2. **DO 분석:** 모든 포스팅이 동의하는 공통점 도출
3. **DONT 분석:** 포스팅 간의 다른 의견 분석
4. **종합 평점:** 평균 별점 계산 및 시각화
5. **요약 리포트:** 사용자 친화적 형태로 정리

## 다음 단계

1. **QA 검증 대기:** pm_qa 에이전트와 협업하여 QA 검증 진행
2. **스크래핑 로직 강화:** 네이버 차단 방지 로직 개선
3. **관리자 대시보드:** 맛집 등록 및 포스팅 관리 기능 추가
4. **데이터 시각화:** Chart.js를 활용한 평점 그래프 구현
5. **사용자 피드백:** 배포 후 사용자 피드백 수집 및 개선

## 참고 사항

- kubectl 접속이 현재 불가능하여 배포 상태는 Git log 및 Docker 이미지 기반 확인
- pm_qa 에이전트와 Slack 통신 불가 (설정 필요)
- 모든 민감 정보는 .env 파일에 저장되어 Git에 커밋되지 않음
- 새로운 서비스 배포 시: 코드 작성 → 이미지 빌드/푸시 → Kustomization 설정 → Git push (ArgoCD 자동 배포)

## 보고 대상
- 팀장 (@main): 개발 보고
- 기획자 (@pm_qa): 업무 싱크 필요
