DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon  288.8kB
Step 1/21 : FROM node:18-alpine AS builder
 ---> ee77c6cd7c18
Step 2/21 : WORKDIR /app
 ---> Using cache
 ---> b618f0508d9b
Step 3/21 : COPY package*.json ./
 ---> Using cache
 ---> f4db49477b96
Step 4/21 : RUN npm ci --legacy-peer-deps
 ---> Using cache
 ---> 6d16f87e38c5
Step 5/21 : COPY prisma ./prisma
 ---> Using cache
 ---> 98d8af9d1df0
Step 6/21 : RUN npx prisma generate
 ---> Using cache
 ---> 17d2a069d37e
Step 7/21 : COPY . .
 ---> ab495f1f8fab
Step 8/21 : RUN npm run build
 ---> Running in e3a675b1f1a1

> nabijiyo@1.0.0 build
> next build

Attention: Next.js now collects completely anonymous telemetry regarding usage.
This information is used to shape Next.js' roadmap and prioritize features.
You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
https://nextjs.org/telemetry

  â–² Next.js 14.2.35

   Creating an optimized production build ...
 âœ“ Compiled successfully
   Skipping linting
   Checking validity of types ...
   Collecting page data ...
[91mprisma:warn Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-1.1.x".
Please manually install OpenSSL and try installing Prisma again.
[0m[91mPrismaClientInitializationError: Unable to require(`/app/node_modules/.prisma/client/libquery_engine-linux-musl.so.node`).
The Prisma engines do not seem to be compatible with your system. Please refer to the documentation about Prisma's system requirements: https://pris.ly/d/system-requirements

Details: Error loading shared library libssl.so.1.1: No such file or directory (needed by /app/node_modules/.prisma/client/libquery_engine-linux-musl.so.node)
    at Object.loadLibrary (/app/node_modules/@prisma/client/runtime/library.js:111:10243)
    at async _r.loadEngine (/app/node_modules/@prisma/client/runtime/library.js:112:448)
    at async _r.instantiateLibrary (/app/node_modules/@prisma/client/runtime/library.js:111:12599) {
  clientVersion: '5.22.0',
  errorCode: undefined
}
[0m   Generating static pages (0/4) ...
   Generating static pages (1/4) 
   Generating static pages (2/4) 
   Generating static pages (3/4) 
 âœ“ Generating static pages (4/4)
   Finalizing page optimization ...
   Collecting build traces ...

Route (app)                              Size     First Load JS
â”Œ â—‹ /                                    1.67 kB        88.9 kB
â”œ â—‹ /_not-found                          873 B          88.1 kB
â”” Æ’ /api/search                          0 B                0 B
+ First Load JS shared by all            87.2 kB
  â”œ chunks/117-29466efefd806f9c.js       31.7 kB
  â”œ chunks/fd9d1056-3eee857bde8f3b06.js  53.6 kB
  â”” other shared chunks (total)          1.86 kB


â—‹  (Static)   prerendered as static content
Æ’  (Dynamic)  server-rendered on demand

 ---> Removed intermediate container e3a675b1f1a1
 ---> af82d93405ab
Step 9/21 : FROM node:18-alpine AS runner
 ---> ee77c6cd7c18
Step 10/21 : WORKDIR /app
 ---> Using cache
 ---> b618f0508d9b
Step 11/21 : ENV NODE_ENV production
 ---> Running in 57c285ead3fd
 ---> Removed intermediate container 57c285ead3fd
 ---> eddd87d13127
Step 12/21 : RUN addgroup --system --gid 1001 nodejs
 ---> Running in 92f13fa38a83
 ---> Removed intermediate container 92f13fa38a83
 ---> e71e3bf72df6
Step 13/21 : RUN adduser --system --uid 1001 nextjs
 ---> Running in 0a9bd718da16
 ---> Removed intermediate container 0a9bd718da16
 ---> 9a2b40da69be
Step 14/21 : COPY --from=builder --chown=nextjs:nodejs /app/public ./public
COPY failed: stat app/public: file does not exist
