DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon  277.5kB
Step 1/21 : FROM node:18-alpine AS builder
 ---> ee77c6cd7c18
Step 2/21 : WORKDIR /app
 ---> Using cache
 ---> b618f0508d9b
Step 3/21 : COPY package*.json ./
 ---> Using cache
 ---> f4db49477b96
Step 4/21 : RUN npm ci --legacy-peer-deps
 ---> Using cache
 ---> 6d16f87e38c5
Step 5/21 : COPY prisma ./prisma
 ---> 98d8af9d1df0
Step 6/21 : RUN npx prisma generate
 ---> Running in b12963d799bc
[91mprisma:warn Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-1.1.x".
Please manually install OpenSSL and try installing Prisma again.
[0mPrisma schema loaded from prisma/schema.prisma
[91mprisma:warn Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-1.1.x".
Please manually install OpenSSL and try installing Prisma again.
[0m
âœ” Generated Prisma Client (v5.22.0) to ./node_modules/@prisma/client in 159ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Interested in query caching in just a few lines of code? Try Accelerate today! https://pris.ly/tip-3-accelerate

 ---> Removed intermediate container b12963d799bc
 ---> 17d2a069d37e
Step 7/21 : COPY . .
 ---> 084fc0186957
Step 8/21 : RUN npm run build
 ---> Running in 1f2a2cc14d7b

> nabijiyo@1.0.0 build
> next build

Attention: Next.js now collects completely anonymous telemetry regarding usage.
This information is used to shape Next.js' roadmap and prioritize features.
You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
https://nextjs.org/telemetry

  â–² Next.js 14.2.35

   Creating an optimized production build ...
 âœ“ Compiled successfully
   Skipping linting
   Checking validity of types ...
   Collecting page data ...
[91mReferenceError: File is not defined
    at 5399 (/app/.next/server/app/api/search/route.js:137:76584)
    at t (/app/.next/server/webpack-runtime.js:1:142)
    at 4424 (/app/.next/server/app/api/search/route.js:137:57858)
    at t (/app/.next/server/webpack-runtime.js:1:142)
    at 5517 (/app/.next/server/app/api/search/route.js:137:15120)
    at t (/app/.next/server/webpack-runtime.js:1:142)
    at 4016 (/app/.next/server/app/api/search/route.js:137:51219)
    at t (/app/.next/server/webpack-runtime.js:1:142)
    at 2503 (/app/.next/server/app/api/search/route.js:137:21642)
    at t (/app/.next/server/webpack-runtime.js:1:142)
[0m[91m
[0m[91m> Build error occurred
[0m[91mError: Failed to collect page data for /api/search
    at /app/node_modules/next/dist/build/utils.js:1269:15
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  type: 'Error'
}
[0mThe command '/bin/sh -c npm run build' returned a non-zero code: 1
